# # AhsanPublicInstance2:
  # #   Type: AWS::EC2::Instance
  # #   Properties:
  # #     InstanceType: t2.micro
  # #     AvailabilityZone: "us-west-1a"
  # #     ImageId: !Ref ImageIdParameters
  # #     KeyName: !Ref KeynameParameters
  # #     SecurityGroupIds: 
  # #     - !GetAtt "AhsanPublicSecurityGroup.GroupId"
  # #     SubnetId: !Ref PublicSubnet
  # #     UserData:
  # #       Fn::Base64: !Sub |         
  # #         #!/bin/bash
  # #         set -x
  # #         sleep 2m
  # #         mkdir test
  # #         apt-get update -y
  # #         apt-get install -y mysql-server php php-mysql
  # #         apt-get install -y apache2 unzip
  # #         systemctl start apache2
  # #         systemctl enable apache2
  # #         usermod -a -G apache ubuntu
  # #         chown -R ubuntu:apache /var/www
  # #         chmod 2775 /var/www
  # #         wget "https://s3.amazonaws.com/alamkey/html.zip"
  # #         rm -rf /var/www/html
  # #         mv html.zip /var/www
  # #         unzip html.zip
  # #     Tags:
  # #     - Key: "Name"
  # #       Value: "AhsanPublic1"

  # # AhsanPrivateInstance2:
  
  # #   Type: AWS::EC2::Instance
  # #   Properties:
  # #     InstanceType: t2.micro
  # #     AvailabilityZone: "us-west-1b"
  # #     ImageId: !Ref ImageIdParameters
  # #     KeyName: !Ref KeynameParameters
  # #     SecurityGroupIds:
  # #     - !GetAtt "AhsanPrivateSecurityGroup.GroupId"
  # #     SubnetId: !Ref PrivateSubnet 
  # #     Tags:
  # #     - Key: "Name"
  # #       Value: "AhsanPrivate2"






  # # AhsanDatabase:
  # #   Type: AWS::RDS::DBInstance
  # #   Properties:
  # #     AllocatedStorage: "20"
  # #     DBInstanceClass:  db.t2.micro
  # #     AllowMajorVersionUpgrade: false
  # #     AutoMinorVersionUpgrade: false
  # #     BackupRetentionPeriod: "7"
  # #     DBName: AhsanRdsDemo
  # #     VPCSecurityGroups:
  # #       - !GetAtt AhsanDBSecurityGroup.GroupId
  # #     DBSubnetGroupName: "AhsanDBSubnetGroup"
  # #     Engine: MySQL
  # #     EngineVersion: 5.7.22 
  # #     MasterUsername: AhsanDB
  # #     MasterUserPassword: "0514457570"
  # #     MultiAZ: false
  # #     Port: "3306"
  # #     PubliclyAccessible: false
  # #     StorageType: gp2
  # #     Tags:
  # #       - Key: Owner
  # #         Value: Ahsan

  #   # AhsanDBSecurityGroup:
  # #   Type: AWS::EC2::SecurityGroup
  # #   Properties: 
  # #     GroupDescription: Security Group for Private Instance.
  # #     VpcId: !Ref AhsanVPC
  # #     SecurityGroupIngress: 
  # #       - IpProtocol: tcp
  # #         FromPort: 22
  # #         ToPort: 22
  # #         CidrIp: 11.0.2.0/24

  # #       - IpProtocol: tcp
  # #         FromPort: 3306
  # #         ToPort: 3306
  # #         CidrIp: 11.0.2.0/24

  # #       - IpProtocol: tcp
  # #         FromPort: 80
  # #         ToPort: 80
  # #         CidrIp: 11.0.2.0/24

  # #       - IpProtocol: tcp
  # #         FromPort: 443
  # #         ToPort: 443
  # #         CidrIp: 11.0.2.0/24

  # #     Tags:
  # #       - Key: "Name"
  # #         Value: "AhsanDatabaseSecurityGroup"

  # # AhsanDBSubnetGroup:
  # #   Type: "AWS::RDS::DBSubnetGroup"
  # #   Properties:
  # #     DBSubnetGroupName: "AhsanDBsubnetgroup"
  # #     DBSubnetGroupDescription: "Subnet Group to launch RDS instance"
  # #     SubnetIds:
  # #     - !Ref PrivateSubnet
  # #     - !Ref PrivateSubnet2
  # #     Tags:
  # #     - Key: "Name"
  # #       Value: "Ahsan" 

  # # PrivateSubnet2:
  # #   Type: AWS::EC2::Subnet
  # #   Properties: 
  # #     AvailabilityZone: "us-west-1c"
  # #     CidrBlock: 11.0.3.0/24
  # #     VpcId:
  #       Fn::ImportValue:  !Sub |
  #         ${AWS::StackName}-AhsanVpc